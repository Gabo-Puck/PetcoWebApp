<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Swiper demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
    <link rel="stylesheet" , href="/stylesheets/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
    integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    
        <script src="https://code.jquery.com/jquery-3.6.0.slim.js">
        </script>
        <script src=
    "https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js">
        </script>

    <!-- Demo styles -->
    <style>
        .swiper-slide {
            background-position: center;
            background-size: cover;
        }

        .swiper-slide img {
            display: block;
            width: 100%;
        }
    </style>
</head>

<body>
    
    <div class=" container mt-5 mr-5 ml-5" style="border:1px solid #cecece; text-align: center; max-height:100%;">
        <h1 class="mt-2 text-primary "><%= MascotaRender[0].MascotasPublicacion.Titulo %></h1>
        <h3 > <%= MascotaRender[0].MascotasPublicacion.Descripcion %></h3>
        <div class="swiper SliderMascota">

            <div class="swiper-wrapper">
                

                <% for(var i=0; i < MascotaRender.length; i++) { %>
                    
                    
                <div class="swiper-slide">
                    <div class="row" style="padding:1%; border: 1px solid #cecece;">
                        

                        <div class="col" style="border:1px solid #cecece;">
                            <div class="swiper mySwiper mt-5" style="height: 300px; width: 300px;">
                                <div class="swiper-wrapper">
                                  
                                    <% for(var j=0; j < MascotaRender[i].MascotasImagenes.length; j++) { %>
                                        
                                        <div class="swiper-slide">
                                            <img src="<%= MascotaRender[i].MascotasImagenes[j].Ruta%>" style="height: 300px; width: 300px; object-fit: cover ;">
                                        </div>

                                    <% } %>

                                </div>
                                <div class="swiper-pagination"></div>
                                <div class="swiper-button-next"></div>
                                <div class="swiper-button-prev"></div>
                            </div>
                            


                            <% if(MascotaRender[i].MascotasMetas != null){ %>
                                <% var acumulado =0;%>
                            
                            <% for(var j=0; j < MascotaRender[i].MascotasMetas.MetasDonaciones.length; j++) { %>
                                <!-- <%= MascotaRender[i].MascotasMetas.MetasDonaciones[j].Cantidad; %> -->

                                <% acumulado= acumulado+ MascotaRender[i].MascotasMetas.MetasDonaciones[j].Cantidad; %>

                                <% }%> 
                                
                                <% var progreso = (acumulado * 100) / MascotaRender[i].MascotasMetas.Cantidad;%>
                                <!-- <%= progreso%> -->
                                <% }%> 
                                

                            
                            <% if(MascotaRender[i].MascotasMetas != null && progreso<100){ %>
                                <h5 style="text-align: center;">

                                    <a href="/publicacion/meta/<%=MascotaRender[i].ID%>" class="btn btn-primary btn-block mt-3">
    
                                        Donar<i class="fa-solid fa-hand-holding-dollar"></i>

    
                                    </i>
                                    </a>
                                </h5>
                                <% }%> 

                               
                         

                        </div>

                        <div class="col" style="border:1px solid #cecece; text-align: left;">
                            <div class="container mt-2"  style="padding: 3%; overflow-y: scroll; height: 400px;">

                                
                                
                                <% if(MascotaRender[i].MascotasMetas != null){ %>
                                    <div class="alert alert-dismissible alert-success">
                                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                                        <strong>¡Esta mascota tiene una meta de <%= MascotaRender[i].MascotasMetas.Cantidad%>$!</strong> <br><%= MascotaRender[i].MascotasMetas.Descripcion%>.
                                        <br> Se tiene recaudado un <%= progreso%>% 
                                    </div>
                                    <% }%> 
                                
  
  
                            <h5 ><b>Nombre:</b> <%= MascotaRender[i].Nombre%></h5>

                            <h5 ><b>Edad:</b> <%= MascotaRender[i].Edad%></h5>
                            <h5 ><b>Descripcion:</b> <%= MascotaRender[i].Descripcion%></h5>
                            

                            <% if(MascotaRender[i].MascotasEstado.ID == 2 || MascotaRender[i].MascotasEstado.ID ==3){ %>
                                <h5 class="text-warning"><b>Estado:</b> <%= MascotaRender[i].MascotasEstado.Estado_Nombre%></h5>
                              <% } else{ %>  


                                <% if(MascotaRender[i].MascotasEstado.ID == 1){ %>
                                    <h5 class="text-success"><b>Estado:</b> <%= MascotaRender[i].MascotasEstado.Estado_Nombre%></h5>
                                  <% } else{ %>  
                                    
                                    <h5 class="text-danger"><b>Estado:</b> <%= MascotaRender[i].MascotasEstado.Estado_Nombre%></h5>

    
                                 <% } %>



                             <% } %>
                            
                            <h5 ><b>Especie:</b> <%= MascotaRender[i].MascotasEspecie.Nombre_Especie%></h5>
                            <h5 ><b>Salud:</b> <%= MascotaRender[i].MascotasSalud.Salud%></h5>
                            <h5 ><b>Tamaño:</b> <%= MascotaRender[i].MascotasTamano.Tamano%></h5>
                            <h5 ><b>Castramiento:</b> <%= MascotaRender[i].MascotasCastrado.Castrado%></h5>
                            <h5 ><b>Vacunas:</b> 
                                <% for(var j=0; j < MascotaRender[i].MascotasVacunas.length; j++) { %>
                                <%= MascotaRender[i].MascotasVacunas[j].Nombre_Vacuna%><% if(j != MascotaRender[i].MascotasVacunas.length-1){ %>o,<% }else{ %> <% } %>
                                <% } %>
                            </h5>
                            <h5 style="text-align: center;">

                                <a href="/petco/formulario/responder/m=<%=MascotaRender[i].ID%>" class="btn btn-warning btn-block">
                                    

                                    Enviar solicitud <i class="fa-solid fa-envelope"></i>

                                </i>
                                </a>
                            </h5>
                            
                            </div>
                        </div>
                        <% if(MascotaRender[i].MascotasMetas != null){ %>
                            
                        <div class="progress progress-bar-animated bg-secondary" >
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" aria-valuenow="<%= progreso%>" aria-valuemin="0" aria-valuemax="100" style=" width:<%= progreso%>%;"></div></div>
                        </div>
                        <% }%> 

                </div>
                <% } %>
                
            </div>
            


            <div class="swiper-pagination"></div>
            <div class="swiper-button-next MascotaNext"></div>
            <div class="swiper-button-prev MacotaPrev"></div>

        </div>
    </div>    
    
    


<script>

var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
  return new bootstrap.Popover(popoverTriggerEl)
})

</script>






    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>

    <!-- Initialize Swiper -->
    <script>
        var swiper = new Swiper(".mySwiper", {
            effect: "cards",
            rewind: true,
            cubeEffect: {
                shadow: true,
                slideShadows: true,
                shadowOffset: 20,
                shadowScale: 0.94,
            },
            pagination: {
                el: ".swiper-pagination",
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        });

        var swiper = new Swiper(".SliderMascota", {
            effect: "flip",
            rewind: true,
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
            navigation: {
                nextEl: ".MascotaNext",
                prevEl: ".MacotaPrev",
            },
        });
    </script>



</body>

</html>